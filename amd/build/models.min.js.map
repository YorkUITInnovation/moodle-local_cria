{"version":3,"file":"models.min.js","sources":["../src/models.js"],"sourcesContent":["import $ from 'jquery';\nimport notification from 'core/notification';\nimport ajax from 'core/ajax';\nimport ModalFactory from 'core/modal_factory';\n\nexport const init = () => {\n    delete_model();\n    select_provider();\n};\n\n/**\n * Delete a content\n */\nfunction delete_model() {\n\n    $(\".delete-model\").off();\n    $(\".delete-model\").on('click', function () {\n        var id = $(this).data('id');\n\n        notification.confirm('Delete',\n            'Are you sure you want to delete this model?',\n            'Delete',\n            M.util.get_string('cancel', 'local_cria'), function () {\n                //Delete the record\n                var delete_model = ajax.call([{\n                    methodname: 'cria_model_delete',\n                    args: {\n                        id: id\n                    }\n                }]);\n                delete_model[0].done(function () {\n                    location.reload();\n                }).fail(function () {\n                    alert('An error has occurred. The record was not deleted');\n                });\n            });\n\n    });\n}\n\nfunction select_provider() {\n    $(\"#cria-add-model\").off();\n    $(\"#cria-add-model\").on('click', function () {\n\n        $('#cria-provider-modal').modal('show');\n\n        $('.btn-select-provider').off();\n        $('.btn-select-provider').on('click', function () {\n            var idnumber = $(this).data('idnumber');\n            window.location.href = M.cfg.wwwroot + '/local/cria/providers/' + idnumber + '/model.php';\n        });\n    });\n}"],"names":["off","on","id","this","data","confirm","M","util","get_string","ajax","call","methodname","args","done","location","reload","fail","alert","modal","idnumber","window","href","cfg","wwwroot"],"mappings":"ugBAKoB,yBAUd,iBAAiBA,0BACjB,iBAAiBC,GAAG,SAAS,eACvBC,IAAK,mBAAEC,MAAMC,KAAK,4BAETC,QAAQ,SACjB,8CACA,SACAC,EAAEC,KAAKC,WAAW,SAAU,eAAe,WAEpBC,cAAKC,KAAK,CAAC,CAC1BC,WAAY,oBACZC,KAAM,CACFV,GAAIA,OAGC,GAAGW,MAAK,WACjBC,SAASC,YACVC,MAAK,WACJC,MAAM,kFAQpB,mBAAmBjB,0BACnB,mBAAmBC,GAAG,SAAS,+BAE3B,wBAAwBiB,MAAM,4BAE9B,wBAAwBlB,0BACxB,wBAAwBC,GAAG,SAAS,eAC9BkB,UAAW,mBAAEhB,MAAMC,KAAK,YAC5BgB,OAAON,SAASO,KAAOf,EAAEgB,IAAIC,QAAU,yBAA2BJ,SAAW"}