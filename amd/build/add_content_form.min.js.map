{"version":3,"file":"add_content_form.min.js","sources":["../src/add_content_form.js"],"sourcesContent":["import $ from 'jquery';\nimport notification from 'core/notification';\nimport ajax from 'core/ajax';\nimport select2 from 'local_cria/select2';\n\nexport const init = () => {\n    $('#id_keywords').select2({\n        'theme': 'classic',\n        'width': '100%'\n    });\n    process_content();\n    copy_nodes_to_clipboard();\n    copy_error_message_to_clipboard();\n};\n\n/**\n * Delete a content\n */\nfunction process_content() {\n    $(\"#id_submitbutton\").off();\n    $(\"#id_submitbutton\").on('click', function () {\n        document.getElementById('cria-loader').style.display = 'flex';\n    });\n}\n\n/**\n * Copy contetns of nodes to the clipboard\n */\nfunction copy_nodes_to_clipboard() {\n    // When button cria-copy-nodes is clicked, copy the contents of the nodes to the clipboard. Do not use jQuery\n    document.getElementById('cria-copy-nodes').addEventListener('click', function() {\n        var nodes = document.getElementById('id_nodes');\n        var range = document.createRange();\n        range.selectNode(nodes);\n        window.getSelection().removeAllRanges();\n        window.getSelection().addRange(range);\n        document.execCommand('copy');\n        window.getSelection().removeAllRanges();\n        // change the class bi-clipboard to bi-clipboard-check\n        document.getElementById('cria-copy-nodes-icon').classList.remove('bi-clipboard');\n        document.getElementById('cria-copy-nodes-icon').classList.add('bi-clipboard-check');\n        // Wait 5 seconds and retunr the class to bi-clipboard\n        setTimeout(function() {\n            document.getElementById('cria-copy-nodes-icon').classList.remove('bi-clipboard-check');\n            document.getElementById('cria-copy-nodes-icon').classList.add('bi-clipboard');\n        }, 5000);\n    });\n}\n\n/**\n * Copy contents of error_message to the clipboard\n */\nfunction copy_error_message_to_clipboard() {\n    // When button cria-copy-nodes is clicked, copy the contents of the nodes to the clipboard. Do not use jQuery\n    document.getElementById('cria-copy-error-message').addEventListener('click', function() {\n        var nodes = document.getElementById('id_error_message');\n        var range = document.createRange();\n        range.selectNode(nodes);\n        window.getSelection().removeAllRanges();\n        window.getSelection().addRange(range);\n        document.execCommand('copy');\n        window.getSelection().removeAllRanges();\n        // change the class bi-clipboard to bi-clipboard-check\n        document.getElementById('cria-copy-error-message-icon').classList.remove('bi-clipboard');\n        document.getElementById('cria-copy-error-message-icon').classList.add('bi-clipboard-check');\n        // Wait 5 seconds and retunr the class to bi-clipboard\n        setTimeout(function() {\n            document.getElementById('cria-copy-error-message-icon').classList.remove('bi-clipboard-check');\n            document.getElementById('cria-copy-error-message-icon').classList.add('bi-clipboard');\n        }, 5000);\n    });\n}"],"names":["select2","off","on","document","getElementById","style","display","addEventListener","nodes","range","createRange","selectNode","window","getSelection","removeAllRanges","addRange","execCommand","classList","remove","add","setTimeout"],"mappings":"4fAKoB,yBACd,gBAAgBA,QAAQ,OACb,gBACA,6BAWX,oBAAoBC,0BACpB,oBAAoBC,GAAG,SAAS,WAC9BC,SAASC,eAAe,eAAeC,MAAMC,QAAU,UAS3DH,SAASC,eAAe,mBAAmBG,iBAAiB,SAAS,eAC7DC,MAAQL,SAASC,eAAe,YAChCK,MAAQN,SAASO,cACrBD,MAAME,WAAWH,OACjBI,OAAOC,eAAeC,kBACtBF,OAAOC,eAAeE,SAASN,OAC/BN,SAASa,YAAY,QACrBJ,OAAOC,eAAeC,kBAEtBX,SAASC,eAAe,wBAAwBa,UAAUC,OAAO,gBACjEf,SAASC,eAAe,wBAAwBa,UAAUE,IAAI,sBAE9DC,YAAW,WACPjB,SAASC,eAAe,wBAAwBa,UAAUC,OAAO,sBACjEf,SAASC,eAAe,wBAAwBa,UAAUE,IAAI,kBAC/D,QASPhB,SAASC,eAAe,2BAA2BG,iBAAiB,SAAS,eACrEC,MAAQL,SAASC,eAAe,oBAChCK,MAAQN,SAASO,cACrBD,MAAME,WAAWH,OACjBI,OAAOC,eAAeC,kBACtBF,OAAOC,eAAeE,SAASN,OAC/BN,SAASa,YAAY,QACrBJ,OAAOC,eAAeC,kBAEtBX,SAASC,eAAe,gCAAgCa,UAAUC,OAAO,gBACzEf,SAASC,eAAe,gCAAgCa,UAAUE,IAAI,sBAEtEC,YAAW,WACPjB,SAASC,eAAe,gCAAgCa,UAAUC,OAAO,sBACzEf,SAASC,eAAe,gCAAgCa,UAAUE,IAAI,kBACvE"}